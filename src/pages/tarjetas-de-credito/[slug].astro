---
import Layout from '../../layouts/Layout.astro';
import TarjetaDetail from '../../components/tarjetas/TarjetaDetail.astro';
import { getTarjetas } from '../../lib/contentful/';

export async function getStaticPaths() {
  const tarjetas = await getTarjetas();
  
  return tarjetas.map(tarjeta => ({
    params: { slug: tarjeta.slug },
    props: { tarjeta },
  }));
}

const { tarjeta } = Astro.props;

const breadcrumb = [
  { label: 'Inicio', href: '/' },
  { label: 'Tarjetas de CrÃ©dito', href: '/tarjetas-de-credito' },
  { label: tarjeta.nombre, href: `/tarjetas-de-credito/${tarjeta.slug}`, current: true }
];
---

<Layout breadcrumb={breadcrumb}>
  <main class="container mx-auto px-4">
    <div class="max-w-6xl mx-auto">
      <TarjetaDetail tarjeta={tarjeta} />
    </div>
  </main>
</Layout>